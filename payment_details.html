<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¯ÙØ¹</title>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');

  body {
    font-family: "Cairo", sans-serif;
    background-color: #0b0b0b; 
    color: white;
    margin: 0;
    padding: 0;
    text-align: center;
  }

  /* --- ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ù‡ÙŠØ¯Ø± ÙˆØ§Ù„Ø³Ù‡Ù… --- */
  .header {
    position: relative;
    width: 100%;
    background: linear-gradient(90deg, red, blue);
    animation: pulse 3s infinite alternate;
    padding: 25px 0;
    font-size: 26px;
    font-weight: bold;
    margin-bottom: 0;
  }

  @keyframes pulse {
    0% { filter: brightness(1); }
    50% { filter: brightness(1.4); }
    100% { filter: brightness(1); }
  }

  .back-arrow {
    position: absolute;
    right: 15px; /* ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø³Ù‡Ù… Ù„ÙŠØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¹Ø±Ø¨ÙŠ */
    top: 50%;
    transform: translateY(-50%) rotate(0deg); /* Ù„Ø§ Ø¯ÙˆØ±Ø§Ù† */
    font-size: 32px;
    cursor: pointer;
    color: white;
  }
  
  /* --- ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø­Ù‚ÙˆÙ„ ÙˆØ²Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ --- */
  .app-name {
    font-size: 22px;
    font-weight: bold;
    margin: 20px 0;
  }

  .input-group {
    margin: 15px auto;
    width: 80%;
  }

  .input-label {
    display: block;
    margin-bottom: 8px;
    font-size: 16px;
    text-align: right;
  }

  .input-field {
    width: 90%;
    padding: 10px;
    border-radius: 50px;
    border: none;
    text-align: center;
    font-size: 16px;
    outline: none;
  }

  .price-box {
    margin: 20px auto;
    font-size: 18px;
    font-weight: bold;
    background-color: #1a1a1a;
    width: 80%;
    padding: 15px;
    border-radius: 10px;
  }

  .buy-btn {
    background: linear-gradient(90deg, red, blue);
    color: white;
    border: none;
    padding: 12px 30px;
    border-radius: 30px;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    margin-top: 15px;
    animation: pulse 3s infinite alternate;
  }

  /* â­ï¸ ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© â­ï¸ */
  .note {
    margin-top: 20px;
    font-size: 14px;
    color: #ffb6c1; /* Ù„ÙˆÙ† ÙˆØ±Ø¯ÙŠ ÙØ§ØªØ­ */
    background-color: #1a1a1a;
    width: 80%;
    margin-left: auto;
    margin-right: auto;
    padding: 10px;
    border-radius: 8px;
  }
  
  /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ø¨Ù†ÙˆÙƒ */
  .bank-fields-container {
      background-color: #1a1a1a;
      padding: 10px 0;
      border-radius: 10px;
      margin-bottom: 20px;
  }
</style>
</head>
<body>
  
  <div class="header">
    <div class="back-arrow" onclick="goBack()">&#10148;</div>
    <span id="headerTitle">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¯ÙØ¹</span>
  </div>

  <div class="app-name" id="paymentName"></div>
  
  <div id="dynamicFields">
    
    <div id="bankFields" style="display:none;" class="bank-fields-container">
        </div>
    
    <div class="input-group" id="mainInputField">
        <label class="input-label" id="mainInputLabel">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
        <input type="text" id="mainInput" class="input-field" placeholder="">
    </div>

  </div>

  <div class="input-group">
    <label class="input-label">ğŸ“¦ Ø§Ù„ÙƒÙ…ÙŠØ© (Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø±Ø§Ø¯ Ø¥Ø±Ø³Ø§Ù„Ù‡)</label>
    <input type="number" id="quantity" class="input-field" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙ…ÙŠØ©">
  </div>
  
  <div class="price-box" id="priceBox">ğŸ’° Ø§Ù„Ø³Ø¹Ø±: $0.00</div>

  <button class="buy-btn" id="buyButton">Ø´Ø±Ø§Ø¡</button>

  <div class="note">
    Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ÙŠØ¯ÙˆÙŠ ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù„ÙŠ Ø¨Ø§Ù„ØµØ¨Ø±
  </div>

<script>
  const params = new URLSearchParams(window.location.search);
  const paymentName = params.get("name");
  const paymentType = params.get("type");
  const placeholder = params.get("placeholder");
  
  document.getElementById("headerTitle").textContent = paymentName;
  document.getElementById("paymentName").textContent = paymentName;
  
  const mainInputLabel = document.getElementById("mainInputLabel");
  const mainInput = document.getElementById("mainInput");
  const bankFieldsContainer = document.getElementById("bankFields");
  const priceBox = document.getElementById("priceBox");
  
  // Ù‚Ù… Ø¨ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙˆØ§Ù„Ù€ Placeholder
  mainInput.placeholder = placeholder || "Ø£Ø¯Ø®Ù„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©";
  
  let pricePerUnit = 1; // Ø³Ø¹Ø± Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„ÙˆØ­Ø¯Ø©
  
  // ØªØ®ØµÙŠØµ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù†ÙˆØ¹ Ø§Ù„Ø¯ÙØ¹
  if (paymentType === "bank" || paymentType === "syria_cash") {
    
    // 1. ØªØ®ØµÙŠØµ Ø­Ù‚Ù„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù„Ø¨Ù†ÙˆÙƒ
    if (paymentType === "bank") {
        mainInputLabel.textContent = `ğŸ¦ ${paymentName} - Ø±Ù‚Ù… Ø§Ù„Ø¢ÙŠØ¨Ø§Ù†`;
        mainInput.placeholder = placeholder || "Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¢ÙŠØ¨Ø§Ù†";
    } else if (paymentType === "syria_cash") {
        // Ø­Ø§Ù„Ø© Ø´Ø§Ù… ÙƒØ§Ø´ Ø³ÙˆØ±ÙŠØ§
        mainInputLabel.textContent = `Ù…Ø­ÙØ¸Ø© Ø´Ø§Ù… ÙƒØ§Ø´ - Ø§Ù„Ø¹Ù†ÙˆØ§Ù†`;
        mainInput.placeholder = placeholder || "Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ù…Ø­ÙØ¸Ø© Ø´Ø§Ù… ÙƒØ§Ø´";
    }

    // 2. Ø¥Ø¶Ø§ÙØ© Ø­Ù‚Ù„ Ø§Ø³Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ø­Ø³Ø§Ø¨
    bankFieldsContainer.style.display = 'block';

    const accountNameHtml = `
      <div class="input-group">
        <label class="input-label">ğŸ‘¤ Ø§Ø³Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ø­Ø³Ø§Ø¨</label>
        <input type="text" id="accountName" class="input-field" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„">
      </div>
    `;
    // Ø¥Ø¶Ø§ÙØ© Ø®Ø§Ù†Ø© Ø§Ù„Ø§ÙŠØ¨Ø§Ù† ÙˆØ§Ø³Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø­Ø³Ø¨ Ø§Ù„Ø·Ù„Ø¨
    if(paymentType === "syria_cash"){
        // ÙÙŠ Ø­Ø§Ù„Ø© Ø´Ø§Ù… ÙƒØ§Ø´ØŒ Ù†Ø­ØªØ§Ø¬ Ø­Ù‚Ù„ Ø¥Ø¶Ø§ÙÙŠ Ù„Ø§Ø³Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ø­Ø³Ø§Ø¨
        bankFieldsContainer.innerHTML += accountNameHtml;
    } else {
        // ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø¨Ù†ÙˆÙƒØŒ ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù€ mainInput Ù„Ù„Ø¢ÙŠØ¨Ø§Ù†ØŒ ÙˆÙ†Ø¶ÙŠÙ Ø­Ù‚Ù„ Ø§Ø³Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ø­Ø³Ø§Ø¨
        bankFieldsContainer.innerHTML += accountNameHtml;
    }

  } else {
    // Ø¨Ø§Ù‚ÙŠ Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ (Ù…Ø­Ø§ÙØ¸/ÙƒØ§Ø´) ØªØ­ØªØ§Ø¬ ÙÙ‚Ø· Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ/Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø©)
     mainInputLabel.textContent = `ğŸ’³ ${paymentName} - ${placeholder.includes('Ù‡Ø§ØªÙ') ? 'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ' : 'Ø§Ù„Ø¹Ù†ÙˆØ§Ù†/Ø§Ù„Ø±Ù‚Ù…'}`;
  }

  // Ø¯Ø§Ù„Ø© Ù„Ø­Ø³Ø§Ø¨ ÙˆØ¹Ø±Ø¶ Ø§Ù„Ø³Ø¹Ø±
  function updatePrice() {
    const quantity = parseFloat(document.getElementById("quantity").value) || 0;
    // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ† Ø±Ø¨Ø· Ø³Ø¹Ø± ÙƒÙ„ Ø·Ø±ÙŠÙ‚Ø© Ø¯ÙØ¹
    const total = quantity * pricePerUnit; 
    priceBox.textContent = `ğŸ’° Ø§Ù„Ø³Ø¹Ø±: $${total.toFixed(2)}`;
  }

  document.getElementById("quantity").addEventListener("input", updatePrice);
  
  // Ø²Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ (Ù…Ù†Ø·Ù‚ ÙˆÙ‡Ù…ÙŠ)
  document.getElementById("buyButton").addEventListener("click", () => {
    const quantity = parseFloat(document.getElementById("quantity").value);
    const mainValue = mainInput.value.trim();
    
    if (mainValue === "") {
        alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.");
    } else if (isNaN(quantity) || quantity <= 0) {
        alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ…ÙŠØ© ØµØ­ÙŠØ­Ø©.");
    } else {
        // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù…Ù†Ø·Ù‚ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ù†Ø§
        alert(`ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø¯ÙØ¹ Ù„Ù€ ${paymentName} Ø¨Ù…Ø¨Ù„Øº ${quantity}. Ø³ÙŠØªÙ… Ù…Ø¹Ø§Ù„Ø¬ØªÙ‡ ÙŠØ¯ÙˆÙŠØ§Ù‹.`);
    }
  });

  function goBack() {
    window.history.back();
  }
  
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø¹Ø± Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
  updatePrice();
</script>

</body>
</html>
